<!DOCTYPE html>
<html>
<head>
  <title>GPT Tutor Score Submission</title>
</head>
<body>
  <h1>Submit Your Tutorial Grade</h1>
  <form id="gradeForm">
    <label for="studentID">Student ID:</label><br>
    <input type="text" id="studentID" name="studentID" required><br><br>

    <label for="course">Course:</label><br>
    <input type="text" id="course" name="course" required><br><br>

    <label for="lesson">Lesson:</label><br>
    <input type="text" id="lesson" name="lesson" required><br><br>

    <label for="score">Score (0–20):</label><br>
    <input type="number" id="score" name="score" min="0" max="20" required><br><br>

    <button type="submit">Submit Grade</button>
  </form>

  <p id="result"></p>

  <script>
    document.getElementById("gradeForm").addEventListener("submit", function(event) {
      event.preventDefault();

      const studentID = document.getElementById("studentID").value.trim();
      const course = document.getElementById("course").value.trim();
      const lesson = document.getElementById("lesson").value.trim();
      const score = document.getElementById("score").value.trim();

      const data = {
        studentID,
        course,
        lesson,
        score
      };

      fetch("https://script.google.com/a/macros/colorado.edu/s/AKfycbwAc5KdJ-iAUjmzIPoVX7MLZGU4xVyJpGQZ3vLUsvn87O7GVC_J_vcYv7Y-y8uCsGGQ/exec", {
        method: "POST",
        mode: "no-cors", // This prevents CORS errors from being visible, but also disables response reading
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      });

      document.getElementById("result").innerText = "✅ Grade submitted! You may now close this window.";
    });
  </script>
</body>
</html>
